<html>
    <head>
        <title>Bike Training Zone Calculator</title>
        <style>
            table {
                font-family: arial, sans-serif;
                border-collapse: collapse;
                width: 618px;
            }

            td, th {
                border: 1px solid #dddddd;
                text-align: left;
                padding: 8px;
            }

            tr:nth-child(even) {
                background-color: #eeeeee;
            }
        </style>
    </head>
    <body>

        <input type="number" id="ftp" placeholder='FTP' size=13 />
        <input type="number" id="weight" placeholder='Weight (kg)' size=13 />
        <input type="number" id="age" placeholder='Age' size=13 />
        <select id="gender">
            <option value="" disabled selected>Select your gender</option>
            <option value="female">female</option>
            <option value="male">male</option>
            <option value="other">other</option>
        </select>

        <p id="physicalCondition"></p>

        <table id='ftpTable'>
            <tr>
                <th>Train Zone</th>
                <th>Level</th>
                <th>Watt</th>
            </tr>
            <tr>
                <td>Zone 1</td>
                <td>Active recovery</td>
                <td>-</td>
            </tr>
            <tr>
                <td>Zone 2</td>
                <td>Endurance</td>
                <td>-</td>
            </tr>
            <tr>
                <td>Zone 3</td>
                <td>Tempo</td>
                <td>-</td>
            </tr>
            <tr>
                <td>Zone 4</td>
                <td>Threshold</td>
                <td>-</td>
            </tr>
            <tr>
                <td>Zone 5</td>
                <td>VO2max</td>
                <td>-</td>
            </tr>
            <tr>
                <td>Zone 6</td>
                <td>Anaerobic</td>
                <td>-</td>
            </tr>
            <tr>
                <td>Zone 7</td>
                <td>Neuromusculair</td>
                <td>-</td>
            </tr>
        </table>

        <script>
            document.getElementById("ftp").addEventListener("input", updateFTP);
            document.getElementById("age").addEventListener("input", updatePhysicalCondition);
            document.getElementById("weight").addEventListener("input", updatePhysicalCondition);
            document.getElementById("gender").addEventListener("change", updatePhysicalCondition);

            function updateFTP(event) {
                var ftpTable = document.getElementById("ftpTable");

                if (this.value) {
                    const zone1 = Math.floor(0.55 * this.value);
                    const zone2 = Math.floor(0.75 * this.value);
                    const zone3 = Math.floor(0.90 * this.value);
                    const zone4 = Math.floor(1.05 * this.value);
                    const zone5 = Math.floor(1.20 * this.value);
                    const zone6 = Math.floor(2.85 * this.value);

                    ftpTable.rows[1].cells[2].innerHTML = "< " + zone1;
                    ftpTable.rows[2].cells[2].innerHTML = zone1 + " - " + zone2;
                    ftpTable.rows[3].cells[2].innerHTML = zone2 + " - " + zone3;
                    ftpTable.rows[4].cells[2].innerHTML = zone3 + " - " + zone4;
                    ftpTable.rows[5].cells[2].innerHTML = zone4 + " - " + zone5;
                    ftpTable.rows[6].cells[2].innerHTML = zone5 + " - " + zone6;
                    ftpTable.rows[7].cells[2].innerHTML = "> " + zone6;
                } else {
                    ftpTable.rows[1].cells[2].innerHTML = "-";
                    ftpTable.rows[2].cells[2].innerHTML = "-";
                    ftpTable.rows[3].cells[2].innerHTML = "-";
                    ftpTable.rows[4].cells[2].innerHTML = "-";
                    ftpTable.rows[5].cells[2].innerHTML = "-";
                    ftpTable.rows[6].cells[2].innerHTML = "-";
                    ftpTable.rows[7].cells[2].innerHTML = "-";
                }

                updatePhysicalCondition();
            }

            const VO2maxConditionTable = [
                ('male', 15, 30, 0, 2.7, 'poor'),
                ('male', 30, 35, 0, 2.5, 'poor'),
                ('male', 35, 40, 0, 2.3, 'poor'),
                ('male', 40, 45, 0, 2.1, 'poor'),
                ('male', 45, 50, 0, 1.9, 'poor'),
                ('male', 50, 55, 0, 1.6, 'poor'),
                ('male', 55, 60, 0, 1.4, 'poor'),
                ('male', 60, 99, 0, 1.2, 'poor'),
                ('male', 15, 30, 2.7, 3.1, 'untrained'),
                ('male', 30, 35, 2.5, 2.9, 'untrained'),
                ('male', 35, 40, 2.3, 2.7, 'untrained'),
                ('male', 40, 45, 2.1, 2.5, 'untrained'),
                ('male', 45, 50, 1.9, 2.3, 'untrained'),
                ('male', 50, 55, 1.6, 2.1, 'untrained'),
                ('male', 55, 60, 1.4, 1.8, 'untrained'),
                ('male', 60, 99, 1.2, 1.6, 'untrained')
                ('male', 15, 30, 3.2, 3.9, 'trained'),
                ('male', 30, 35, 3.0, 3.7, 'trained'),
                ('male', 35, 40, 2.8, 3.5, 'trained'),
                ('male', 40, 45, 2.6, 3.3, 'trained'),
                ('male', 45, 50, 2.4, 3.1, 'trained'),
                ('male', 50, 55, 2.1, 2.9, 'trained'),
                ('male', 55, 60, 1.8, 2.7, 'trained'),
                ('male', 60, 99, 1.7, 2.5, 'trained'),
                ('male', 15, 30, 4.0, 4.3, 'well trained'),
                ('male', 30, 35, 3.8, 4.1, 'well trained'),
                ('male', 35, 40, 3.6, 3.9, 'well trained'),
                ('male', 40, 45, 3.4, 3.7, 'well trained'),
                ('male', 45, 50, 3.2, 3.5, 'well trained'),
                ('male', 50, 55, 3.0, 3.5, 'well trained'),
                ('male', 55, 60, 2.8, 3.1, 'well trained'),
                ('male', 60, 99, 2.6, 2.9, 'well trained'),
                ('male', 15, 30, 4.4, 4.8, 'very well trained'),
                ('male', 30, 35, 4.2, 4.5, 'very well trained'),
                ('male', 35, 40, 4.0, 4.3, 'very well trained'),
                ('male', 40, 45, 3.8, 4.1, 'very well trained'),
                ('male', 45, 50, 3.6, 4.0, 'very well trained'),
                ('male', 50, 55, 3.4, 3.7, 'very well trained'),
                ('male', 55, 60, 3.2, 3.5, 'very well trained'),
                ('male', 60, 99, 3.0, 3.3, 'very well trained'),
                ('male', 15, 30, 4.9, 5.6, 'regional'),
                ('male', 30, 35, 4.6, 5.4, 'regional'),
                ('male', 35, 40, 4.4, 5.2, 'regional'),
                ('male', 40, 45, 4.2, 5.0, 'regional'),
                ('male', 45, 50, 4.1, 4.8, 'regional'),
                ('male', 50, 55, 3.8, 4.5, 'regional'),
                ('male', 55, 60, 3.6, 4.3, 'regional'),
                ('male', 60, 99, 3.4, 4.1, 'regional'),
                ('male', 15, 30, 5.6, 10, 'national'),
                ('male', 30, 35, 5.4, 10, 'national'),
                ('male', 35, 40, 5.2, 10, 'national'),
                ('male', 40, 45, 5.0, 10, 'national'),
                ('male', 45, 50, 4.8, 10, 'national'),
                ('male', 50, 55, 4.5, 10, 'national'),
                ('male', 55, 60, 4.3, 10, 'national'),
                ('male', 60, 99, 4.1, 10, 'national'),
                ('female', 15, 30, 0, 2.3, 'poor'),
                ('female', 30, 35, 0, 2.1, 'poor'),
                ('female', 35, 40, 0, 1.9, 'poor'),
                ('female', 40, 45, 0, 1.7, 'poor'),
                ('female', 45, 50, 0, 1.6, 'poor'),
                ('female', 50, 55, 0, 1.4, 'poor'),
                ('female', 55, 60, 0, 1.2, 'poor'),
                ('female', 60, 99, 0, 1.1, 'poor'),
                ('female', 15, 30, 2.3, 2.6, 'untrained'),
                ('female', 30, 35, 2.1, 2.4, 'untrained'),
                ('female', 35, 40, 1.9, 2.2, 'untrained'),
                ('female', 40, 45, 1.7, 2.1, 'untrained'),
                ('female', 45, 50, 1.6, 1.9, 'untrained'),
                ('female', 50, 55, 1.4, 1.8, 'untrained'),
                ('female', 55, 60, 1.2, 1.5, 'untrained'),
                ('female', 60, 99, 1.1, 1.3, 'untrained'),
                ('female', 15, 30, 2.6, 3.3, 'trained'),
                ('female', 30, 35, 2.2, 3.1, 'trained'),
                ('female', 35, 40, 2.3, 2.8, 'trained'),
                ('female', 40, 45, 2.2, 2.7, 'trained'),
                ('female', 45, 50, 2.0, 2.6, 'trained'),
                ('female', 50, 55, 1.8, 2.4, 'trained'),
                ('female', 55, 60, 1.6, 2.2, 'trained'),
                ('female', 60, 99, 1.4, 2.0, 'trained'),
                ('female', 15, 30, 3.4, 3.6, 'well trained'),
                ('female', 30, 35, 3.2, 3.4, 'well trained'),
                ('female', 35, 40, 3.0, 3.2, 'well trained'),
                ('female', 40, 45, 2.8, 3.0, 'well trained'),
                ('female', 45, 50, 2.7, 2.9, 'well trained'),
                ('female', 50, 55, 2.5, 2.7, 'well trained'),
                ('female', 55, 60, 2.3, 2.6, 'well trained'),
                ('female', 60, 99, 2.1, 2.4, 'well trained'),
                ('female', 15, 30, 3.7, 4.0, 'very well trained'),
                ('female', 30, 35, 3.5, 3.8, 'very well trained'),
                ('female', 35, 40, 3.3, 3.6, 'very well trained'),
                ('female', 40, 45, 3.1, 3.4, 'very well trained'),
                ('female', 45, 50, 3.0, 3.3, 'very well trained'),
                ('female', 50, 55, 2.8, 3.0, 'very well trained'),
                ('female', 55, 60, 2.7, 2.9, 'very well trained'),
                ('female', 60, 99, 2.5, 2.7, 'very well trained'),
                ('female', 15, 30, 4.1, 4.6, 'regional'),
                ('female', 30, 35, 3.9, 4.4, 'regional'),
                ('female', 35, 40, 3.7, 4.2, 'regional'),
                ('female', 40, 45, 3.5, 4.1, 'regional'),
                ('female', 45, 50, 3.4, 3.9, 'regional'),
                ('female', 50, 55, 3.2, 3.7, 'regional'),
                ('female', 55, 60, 3.0, 3.5, 'regional'),
                ('female', 60, 99, 2.8, 3.3, 'regional'),
                ('female', 15, 30, 4.6, 10, 'national'),
                ('female', 30, 35, 4.4, 10, 'national'),
                ('female', 35, 40, 4.2, 10, 'national'),
                ('female', 40, 45, 4.1, 10, 'national'),
                ('female', 45, 50, 3.9, 10, 'national'),
                ('female', 50, 55, 3.7, 10, 'national'),
                ('female', 55, 60, 3.5, 10, 'national'),
                ('female', 60, 99, 3.3, 10, 'national'),
                ('other', 15, 30, 0, 2.7, 'poor'),
                ('other', 30, 35, 0, 2.5, 'poor'),
                ('other', 35, 40, 0, 2.3, 'poor'),
                ('other', 40, 45, 0, 2.1, 'poor'),
                ('other', 45, 50, 0, 1.9, 'poor'),
                ('other', 50, 55, 0, 1.6, 'poor'),
                ('other', 55, 60, 0, 1.4, 'poor'),
                ('other', 60, 99, 0, 1.2, 'poor'),
                ('other', 15, 30, 2.7, 3.1, 'untrained'),
                ('other', 30, 35, 2.5, 2.9, 'untrained'),
                ('other', 35, 40, 2.3, 2.7, 'untrained'),
                ('other', 40, 45, 2.1, 2.5, 'untrained'),
                ('other', 45, 50, 1.9, 2.3, 'untrained'),
                ('other', 50, 55, 1.6, 2.1, 'untrained'),
                ('other', 55, 60, 1.4, 1.8, 'untrained'),
                ('other', 60, 99, 1.2, 1.6, 'untrained')
                ('other', 15, 30, 3.2, 3.9, 'trained'),
                ('other', 30, 35, 3.0, 3.7, 'trained'),
                ('other', 35, 40, 2.8, 3.5, 'trained'),
                ('other', 40, 45, 2.6, 3.3, 'trained'),
                ('other', 45, 50, 2.4, 3.1, 'trained'),
                ('other', 50, 55, 2.1, 2.9, 'trained'),
                ('other', 55, 60, 1.8, 2.7, 'trained'),
                ('other', 60, 99, 1.7, 2.5, 'trained'),
                ('other', 15, 30, 4.0, 4.3, 'well trained'),
                ('other', 30, 35, 3.8, 4.1, 'well trained'),
                ('other', 35, 40, 3.6, 3.9, 'well trained'),
                ('other', 40, 45, 3.4, 3.7, 'well trained'),
                ('other', 45, 50, 3.2, 3.5, 'well trained'),
                ('other', 50, 55, 3.0, 3.5, 'well trained'),
                ('other', 55, 60, 2.8, 3.1, 'well trained'),
                ('other', 60, 99, 2.6, 2.9, 'well trained'),
                ('other', 15, 30, 4.4, 4.8, 'very well trained'),
                ('other', 30, 35, 4.2, 4.5, 'very well trained'),
                ('other', 35, 40, 4.0, 4.3, 'very well trained'),
                ('other', 40, 45, 3.8, 4.1, 'very well trained'),
                ('other', 45, 50, 3.6, 4.0, 'very well trained'),
                ('other', 50, 55, 3.4, 3.7, 'very well trained'),
                ('other', 55, 60, 3.2, 3.5, 'very well trained'),
                ('other', 60, 99, 3.0, 3.3, 'very well trained'),
                ('other', 15, 30, 4.9, 5.6, 'regional'),
                ('other', 30, 35, 4.6, 5.4, 'regional'),
                ('other', 35, 40, 4.4, 5.2, 'regional'),
                ('other', 40, 45, 4.2, 5.0, 'regional'),
                ('other', 45, 50, 4.1, 4.8, 'regional'),
                ('other', 50, 55, 3.8, 4.5, 'regional'),
                ('other', 55, 60, 3.6, 4.3, 'regional'),
                ('other', 60, 99, 3.4, 4.1, 'regional'),
                ('other', 15, 30, 5.6, 10, 'national'),
                ('other', 30, 35, 5.4, 10, 'national'),
                ('other', 35, 40, 5.2, 10, 'national'),
                ('other', 40, 45, 5.0, 10, 'national'),
                ('other', 45, 50, 4.8, 10, 'national'),
                ('other', 50, 55, 4.5, 10, 'national'),
                ('other', 55, 60, 4.3, 10, 'national'),
                ('other', 60, 99, 4.1, 10, 'national'),
            ];

            function getVO2MaxConditionLevel(vo2max, age, gender) {
            }

            function updatePhysicalCondition(event) {
                const ftpValue = document.getElementById("ftp").value;
                const weightValue = document.getElementById("weight").value;
                const ageValue = document.getElementById("age").value;
                const genderValue = document.getElementById("gender").value;

                var physicalCondition = document.getElementById("physicalCondition");
                if (ftpValue !== ""
                        && ageValue !== ""
                        && 0 < ageValue
                        && weightValue !== ""
                        && 0 < weightValue
                        && genderValue !== "") {
                    const wattPerKg = ftpValue / weightValue;
                    var msg = "Watt per kg: " + wattPerKg.toFixed(2) + ".";
                    if (genderValue == "female") {
                        if (wattPerKg < 1.7) {
                            msg += " Physical condition: Very Poor.";
                        } else if (wattPerKg < 2.3) {
                            msg += " Physical condition: Poor.";
                        } else if (wattPerKg < 2.8) {
                            msg += " Physical condition: Untrained.";
                        } else if (wattPerKg < 3.4) {
                            msg += " Physical condition: Trained.";
                        } else if (wattPerKg < 4.0) {
                            msg += " Physical condition: Well Trained.";
                        } else if (wattPerKg < 4.6) {
                            msg += " Physical condition: Regional Level.";
                        } else if (wattPerKg < 5.1) {
                            msg += " Physical condition: National Level.";
                        } else if (wattPerKg < 5.7) {
                            msg += " Physical condition: International Level.";
                        } else {
                            msg += " Physical condition: World Class Level.";
                        }
                    } else {
                        if (wattPerKg < 1.9) {
                            msg += " Physical condition: Very Poor.";
                        } else if (wattPerKg < 2.6) {
                            msg += " Physical condition: Poor.";
                        } else if (wattPerKg < 3.2) {
                            msg += " Physical condition: Untrained.";
                        } else if (wattPerKg < 3.8) {
                            msg += " Physical condition: Trained.";
                        } else if (wattPerKg < 4.5) {
                            msg += " Physical condition: Well Trained.";
                        } else if (wattPerKg < 5.1) {
                            msg += " Physical condition: Regional Level.";
                        } else if (wattPerKg < 5.8) {
                            msg += " Physical condition: National Level.";
                        } else if (wattPerKg < 6.4) {
                            msg += " Physical condition: International Level.";
                        } else {
                            msg += " Physical condition: World Class Level.";
                        }
                    }
                    physicalCondition.innerHTML = msg;
                } else {
                    physicalCondition.innerHTML = "";
                }
            }
        </script>

    </body>
</html>
